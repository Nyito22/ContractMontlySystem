@model List<ContractMontlySystem.Models.Claims>

<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
@Html.Partial("_MenuNavigation")

<div class="LectoreMessage">
    <h1>Claims Pending Review</h1>
    <p>Below is a list of submitted claims by lecturers. You may pre-approve or reject claims.</p>
</div>

@if (TempData["Message"] != null)
{
    <div style="color: green; margin-bottom: 10px;">@TempData["Message"]</div>
}

<form asp-action="UpdateClaimStatus" method="post">
    <table class="claims-table">
        <thead>
            <tr>
                <th>Claim ID</th>
                <th>Lecturer</th>
                <th>Module</th>
                <th>Hours</th>
                <th>From</th>
                <th>To</th>
                <th>Status</th>
                <th>Pre-Approval</th>
                <th>Reason</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var claim in Model)
            {
                <tr>
                    <td>@claim.ClaimId</td>
                    <td>@claim.LectureName</td>
                    <td>@claim.ModuleName</td>
                    <td>@claim.SessionHours</td>
                    <td>@claim.ClaimFrom.ToShortDateString()</td>
                    <td>@claim.ClaimTo.ToShortDateString()</td>
                    <td>@claim.Claim_Status</td>
                    <td>
                        <select name="UpdatedStatuses[@claim.ClaimId]" class="form-control">
                            <option value="">Select</option>
                            <option value="Pre-Approved">Pre-Approve</option>
                            <option value="Rejected">Reject</option>
                        </select>
                    </td>
                    <td>
                        <input type="text" name="Reasons[@claim.ClaimId]" placeholder="Add reason..." class="form-control" />
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <button type="submit" class="btn btn-primary" style="margin-top:10px;">Update Claims</button>
</form>

<div class="copyright">
    <footer>
        <p>&copy; 2025 Contract Monthly Claim System. All rights reserved.</p>
    </footer>
</div>
